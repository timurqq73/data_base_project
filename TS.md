
## Дорожная карта проекта (Roadmap)

### Этап 1: Проектирование базы данных (ER-диаграмма)

**Цель:** Создать логическую и физическую модель базы данных.

**Сущности (Таблицы):**

1. **`categories`** - Категории товаров
   - category_id (PK)
   - name (Название категории)

2. **`brands`** - Бренды
   - brand_id (PK)
   - name (Название бренда)
   - country (Страна-производитель)

3. **`suppliers`** - Поставщики
   - supplier_id (PK)
   - company_name (Название компании)
   - contact_person (Контактное лицо)
   - phone (Телефон)
   - email (Email)

4. **`products`** - Товары
   - product_id (PK)
   - name (Название товара)
   - description (Описание)
   - price (Цена)
   - weight_kg (Вес упаковки)
   - stock_quantity (Остаток на складе)
   - category_id (FK → categories)
   - brand_id (FK → brands)
   - supplier_id (FK → suppliers)

5. **`customers`** - Клиенты
   - customer_id (PK)
   - first_name (Имя)
   - last_name (Фамилия)
   - email (Email)
   - phone (Телефон)
   - registration_date (Дата регистрации)

6. **`addresses`** - Адреса доставки
   - address_id (PK)
   - customer_id (FK → customers)
   - city (Город)
   - street (Улица)
   - house_number (Номер дома)
   - apartment (Квартира)
   - postal_code (Почтовый индекс)

7. **`orders`** - Заказы
   - order_id (PK)
   - customer_id (FK → customers)
   - order_date (Дата заказа)
   - total_amount (Общая сумма)
   - status (Статус заказа)
   - shipping_address_id (FK → addresses)

8. **`order_items`** - Позиции заказа
   - order_item_id (PK)
   - order_id (FK → orders)
   - product_id (FK → products)
   - quantity (Количество)
   - unit_price (Цена на момент заказа)

9. **`deliveries`** - Доставки
   - delivery_id (PK)
   - order_id (FK → orders)
   - delivery_date (Планируемая дата доставки)
   - actual_delivery_date (Фактическая дата доставки)
   - tracking_number (Трек-номер)
   - carrier (Служба доставки)

10. **`reviews`** - Отзывы
    - review_id (PK)
    - product_id (FK → products)
    - customer_id (FK → customers)
    - rating (Оценка 1-5)
    - comment (Текст отзыва)
    - created_at (Дата создания)

**Ограничения:**
- PRIMARY KEY, FOREIGN KEY
- UNIQUE на email в customers и suppliers
- CHECK на rating (1-5) и price (>0)
- DEFAULT для order_date (CURRENT_DATE) и stock_quantity (0)

**Результат:** ER-диаграмма в формате PNG

### Этап 2: Реализация в SQL (DDL)

**Цель:** Создать SQL-скрипт для генерации структуры базы данных.

**Задачи:**
- Написать CREATE TABLE для всех сущностей
- Реализовать все ограничения (constraints)
- Добавить комментарии к таблицам и колонкам

**Результат:** `sql/01_ddl.sql`

### Этап 3: Наполнение тестовыми данными

**Цель:** Заполнить базу реалистичными тестовыми данными.

**Объем данных:** по 5-10 записей в каждую таблицу

**Примеры данных:**
- Бренды: Optimum Nutrition, Myprotein, Dymatize
- Категории: Протеин, Аминокислоты, Витамины
- Товары: Gold Standard 100% Whey, Impact Whey Protein
- Клиенты, заказы, отзывы

**Результат:** `sql/02_data_insert.sql`

### Этап 4: Сложные аналитические запросы

**Цель:** Разработать аналитические запросы для бизнес-отчетности.

**Примеры запросов:**

1. **Финансовый отчет по брендам**
   - Суммарная выручка по каждому бренду за последний месяц

2. **Топ-5 самых продаваемых товаров**
   - Рейтинг товаров по количеству проданных единиц

3. **VIP-клиенты**
   - Клиенты с общей суммой заказов > 5000 руб.

4. **Анализ поставщиков**
   - Поставщики, чьи товары имеют средний рейтинг < 4.0

**Результат:** `sql/03_complex_queries.sql`

### Этап 5: Представления и материализованные представления

**Цель:** Создать представления для упрощения работы с данными.

**Планируемые представления:**

1. **`monthly_sales_report`** - ежемесячный отчет по продажам
2. **`customer_order_history`** - история заказов клиентов
3. **`product_ratings_summary`** - сводка по рейтингам товаров
4. **`supplier_performance`** - эффективность работы поставщиков

**Результат:** `sql/04_views.sql`

### Этап 6*: Оптимизация и расширение

**Цель:** Повысить производительность и добавить расширенную функциональность.

**Задачи:**

1. **Генерация больших объемов данных**
   - Создание процедуры для генерации тысяч тестовых заказов

2. **Оптимизация производительности**
   - Создание индексов для часто запрашиваемых полей
   - Анализ планов выполнения запросов (EXPLAIN ANALYZE)

3. **Расширение функциональности**
   - Добавление JSONB колонки `specifications` в таблицу `products`
   - Создание хранимых процедур для оформления заказов

4. **Дополнительные возможности**
   - Триггеры для автоматического обновления остатков
   - Функции для расчета рейтингов

**Результат:** `sql/05_optimization.sql`

## Критерии успеха проекта

- [ ] Полная ER-диаграмма
- [ ] Рабочие SQL-скрипты для всех этапов
- [ ] Минимум 10 связанных таблиц
- [ ] Реалистичные тестовые данные
- [ ] 4+ сложных аналитических запроса
- [ ] 3+ представления/материализованных представления
- [ ] Реализация минимум 2 пунктов из этапа оптимизации

## Дополнительные возможности для расширения

- Система скидок и промокодов
- Учет нескольких складов
- Система бонусных баллов для клиентов
- Интеграция с системами аналитики
- API для веб-приложения

---
*Проект разработан для учебных целей*
